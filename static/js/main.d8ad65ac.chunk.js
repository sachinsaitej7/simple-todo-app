(this["webpackJsonpTodo App"]=this["webpackJsonpTodo App"]||[]).push([[0],{114:function(e,t,s){"use strict";s.r(t);var a=s(39),c=s(0),n=s(40),r=s.n(n),o=s(12),i=s(60),l=s(120),d=s(24),j=s(63),b=s(64);const h="600px",x="tasksStorage",u={personal:"\ud83c\udfe0",work:"\ud83c\udfe2",shopping:"\ud83d\udecd\ufe0f",others:"\ud83c\udf10"},O={personal:"blue.100",work:"pink.100",shopping:"green.100",others:"gray.100"};var g=s(128);class p{constructor(e,t){this.name=void 0,this.isCompleted=!1,this.id=void 0,this.category=void 0,this.createdAt=void 0,this.dueDate=void 0,this.name=e,this.id=Object(g.a)(),this.category=t,this.createdAt=Date.now(),this.dueDate=this.createdAt+6048e5}}var m=s(61),k=s(127);const f=Object(k.a)(i.a),y=Object(k.a)(i.d);Object(k.a)(m.a);var v=s(62),C=s(4);function S(e){const{value:t,onChange:s}=e;return Object(C.jsx)(v.a,{variant:"filled",maxW:"80px",value:t,id:e.id,onChange:e=>s(e.target.value),children:["personal","work","shopping","others"].map((e=>Object(C.jsx)("option",{value:e,children:u[e]},e)))})}var w=s(69);var D=Object(w.create)()((e=>({tasks:[],undoStack:[],redoStack:[],filterValues:{category:["all"],sortBy:"createdAt"},setTasks:t=>e({tasks:t}),addTask:t=>e((e=>{const s=[...e.tasks,t];return e.undoStack.push(e.tasks),{tasks:s}})),removeTask:t=>e((e=>{const s=e.tasks.filter((e=>e.id!==t));return e.undoStack.push(e.tasks),{tasks:s}})),updateTask:t=>e((e=>{const s=e.tasks.map((e=>e.id===t.id?t:e));return e.undoStack.push(e.tasks),{tasks:s}})),clearTasks:()=>e((e=>(e.undoStack.push(e.tasks),{tasks:[]}))),undo:()=>e((e=>{const t=e.undoStack.pop();return t?(e.redoStack.push(e.tasks),{tasks:t}):{tasks:e.tasks}})),redo:()=>e((e=>{const t=e.redoStack.pop();return t?(e.undoStack.push(e.tasks),{tasks:t}):{tasks:e.tasks}})),setFilterValues:t=>e((e=>({filterValues:{...e.filterValues,...t}})))})));const T=()=>{const e=D((e=>e.addTask)),[t,s]=Object(c.useState)(""),[a,n]=Object(c.useState)("personal");return Object(C.jsx)(f,{whileHover:{scale:1.05},children:Object(C.jsx)("form",{onSubmit:c=>{c.preventDefault(),t&&(e(new p(t,a)),s(""))},autoComplete:"off",children:Object(C.jsx)(d.a,{id:"taskinput",my:4,children:Object(C.jsxs)(i.d,{style:{gap:"4px"},children:[Object(C.jsx)(j.a,{onChange:e=>{s(e.target.value)},mr:2,variant:"filled",placeholder:"What's up ? ...",value:t}),Object(C.jsx)(S,{value:a,onChange:n}),Object(C.jsx)(b.b,{"aria-label":"done",icon:Object(C.jsx)(l.a,{}),size:"md",variant:"solid",type:"submit"})]})})})})};var z=s(121),A=s(122),L=s(123),B=s(124),I=s(58),W=s(65);const F=e=>{let{id:t,onClose:s}=e;const a=D((e=>e.tasks)),n=D((e=>e.updateTask)),r=a.find((e=>e.id===t))||{},[o,l]=Object(c.useState)({...r}),h=e=>t=>{if("isCompleted"!==e){if("dueDate"===e){const s=new Date(t.target.value).getTime();return l({...o,[e]:s})}l({...o,[e]:t.target.value})}else l({...o,[e]:t.target.checked})},x=new Date(o.dueDate).toISOString().split("T")[0].split("-").join("-");return Object(C.jsxs)(I.a,{isOpen:!0,onClose:s,size:window.innerWidth<768?"xs":"sm",children:[Object(C.jsx)(I.f,{}),Object(C.jsxs)(I.c,{children:[Object(C.jsx)(I.e,{children:"Edit Task"}),Object(C.jsxs)(I.b,{children:[Object(C.jsxs)(d.a,{children:[Object(C.jsx)(d.b,{htmlFor:"name",children:"Name*"}),Object(C.jsx)(j.a,{id:"name",value:o.name,onChange:h("name"),isRequired:!0})]}),Object(C.jsxs)(i.d,{my:4,flexDirection:window.innerWidth<768?"column":"row",children:[Object(C.jsxs)(i.a,{mr:2,children:[Object(C.jsx)(d.b,{htmlFor:"dueDate",children:"Due Date"}),Object(C.jsx)(j.a,{type:"date",id:"dueDate",value:x,onChange:h("dueDate")})]}),Object(C.jsxs)(i.d,{my:window.innerWidth<768?2:0,justifyContent:"space-between",children:[Object(C.jsxs)(d.a,{mr:2,children:[Object(C.jsx)(d.b,{htmlFor:"category",children:"Category"}),Object(C.jsx)(S,{id:"category",value:o.category,onChange:e=>{l({...o,category:e})}})]}),Object(C.jsxs)(d.a,{children:[Object(C.jsx)(d.b,{htmlFor:"isCompleted",mb:"0",children:"Mark as Complete"}),Object(C.jsx)(W.a,{id:"isCompleted",onChange:h("isCompleted"),isChecked:o.isCompleted})]})]})]})]}),Object(C.jsxs)(I.d,{children:[Object(C.jsx)(b.a,{colorScheme:"green",mr:3,onClick:()=>{""!==o.name&&(n(o),s())},children:"Save"}),Object(C.jsx)(b.a,{variant:"ghost",onClick:s,children:"Close"})]})]})]})},M=.8,V={scale:[1,1.025,1],opacity:[0,.1,.2,.3,.4,M],transition:{duration:.2}},E={scale:[1,.95],opacity:[1,M,.2,.1],transition:{duration:.25,ease:"easeInOut"}},N={textDecoration:"line-through",opacity:.5},R=e=>{let{id:t}=e;const s=D((e=>e.tasks)),a=D((e=>e.removeTask)),n=D((e=>e.updateTask)),[r,o]=Object(c.useState)(!1),[l,d]=Object(c.useState)(V),j=s.find((e=>e.id===t));return j?Object(C.jsxs)(y,{animate:l,opacity:"0",scale:"1",onHoverStart:()=>{1!==l.opacity&&d({...l,opacity:1,scale:1.025})},onHoverEnd:()=>{l.opacity!==M&&d({...l,opacity:M,scale:1})},alignItems:"center",justifyContent:"space-between",borderRadius:"md",boxShadow:"md",p:2,my:2,w:"100%",initial:"rest",bg:O[j.category],children:[Object(C.jsxs)(i.d,{alignItems:"center",style:{gap:"4px"},children:[Object(C.jsx)(i.i,{fontSize:"2xl",width:"28px",pr:1,children:u[j.category]}),Object(C.jsxs)(i.a,{children:[Object(C.jsx)(i.i,{fontSize:"2xl",fontWeight:"semibold",style:j.isCompleted?N:{},wordBreak:"break-word",children:j.name}),Object(C.jsxs)(i.d,{alignItems:"center",children:[Object(C.jsx)(z.a,{pr:1}),Object(C.jsx)(i.i,{fontSize:"xs",style:j.isCompleted?N:{},children:new Date(j.dueDate).toLocaleDateString()})]})]})]}),Object(C.jsxs)(i.a,{children:[j.isCompleted?null:Object(C.jsx)(b.b,{"aria-label":"done",icon:Object(C.jsx)(A.a,{}),size:"md",variant:"ghost",onClick:()=>{n({...j,isCompleted:!0})}}),Object(C.jsx)(b.b,{"aria-label":"edit",icon:Object(C.jsx)(L.a,{}),size:"md",variant:"ghost",onClick:()=>{o(!0)}}),Object(C.jsx)(b.b,{"aria-label":"close",icon:Object(C.jsx)(B.a,{}),colorScheme:"red",size:"md",variant:"ghost",onClick:()=>{d(E),setTimeout((()=>{a(j.id)}),250)}})]}),r&&Object(C.jsx)(F,{id:t,onClose:()=>{o(!1)}})]}):null};var J=s(59),H=s(30);const P={createdAt:"Created",dueDate:"Due Date",name:"Name"};function q(){const e=D((e=>e.undoStack)),t=D((e=>e.redoStack)),s=D((e=>e.undo)),a=D((e=>e.redo)),c=D((e=>e.filterValues)),n=D((e=>e.setFilterValues));console.log(c,"filterValues");const r=e=>t=>{if("category"===e)return"all"===t?void n({category:["all"]}):void(c.category.includes(t)?n({category:c.category.filter((e=>e!==t))}):n({category:[...c.category.filter((e=>"all"!==e)),t]}));"sort"!==e||n({sortBy:t})},o=!c.category.includes("all")||"createdAt"!==c.sortBy;return Object(C.jsxs)(i.d,{style:{gap:"8px"},children:[Object(C.jsx)(b.b,{"aria-label":"undo",icon:Object(C.jsx)(H.e,{}),variant:"ghost",colorScheme:e.length>0?"green":"gray",onClick:()=>s()}),Object(C.jsx)(b.b,{"aria-label":"redo",icon:Object(C.jsx)(H.c,{}),variant:"ghost",colorScheme:t.length>0?"green":"gray",onClick:()=>a()}),Object(C.jsxs)(J.a,{closeOnSelect:!1,placement:"bottom-end",children:[Object(C.jsx)(J.b,{as:b.a,px:3,py:1,size:32,colorScheme:o?"green":"gray",children:Object(C.jsx)(H.a,{})}),Object(C.jsxs)(J.f,{minWidth:"200px",children:[Object(C.jsx)(J.g,{title:"Sort By",type:"radio",value:c.sortBy,children:["createdAt","dueDate","name"].map((e=>Object(C.jsx)(J.e,{value:e,onClick:()=>r("sort")(e),children:P[e]},e)))}),Object(C.jsx)(J.c,{}),Object(C.jsx)(J.g,{title:"Filter By Category",type:"checkbox",value:c.category,children:["All","Work","Personal","Shopping","Others"].map((e=>Object(C.jsx)(J.e,{onClick:()=>r("category")(e.toLocaleLowerCase()),value:e.toLocaleLowerCase(),children:"".concat(u[e.toLocaleLowerCase()]||"   "," ").concat(e)},e)))})]})]})]})}const Y=()=>{const e=D((e=>e.tasks)),t=D((e=>e.filterValues)),s=e.filter((e=>!!t.category.includes("all")||t.category.includes(e.category))).sort(((e,s)=>"createdAt"===t.sortBy?e.createdAt-s.createdAt:"dueDate"===t.sortBy?e.dueDate-s.dueDate:"name"===t.sortBy?e.name.localeCompare(s.name):0));return console.log(s,"filteredTasks"),Object(C.jsxs)(i.a,{my:4,children:[Object(C.jsxs)(i.d,{justifyContent:"space-between",alignItems:"center",children:[Object(C.jsx)(i.i,{fontSize:"xl",fontWeight:"bold",children:"Tasks"}),Object(C.jsx)(q,{})]}),Object(C.jsx)(i.c,{my:2}),Object(C.jsx)(i.a,{overflowY:"auto",h:"65vh",px:2,pb:10,children:s.map((e=>Object(C.jsx)(R,{id:e.id},e.id)))})]})};var G=s(66),K=s(125),Q=s(126),U=s.p+"static/media/logo.6e6b651f.png";const X=e=>{const{toggleColorMode:t}=Object(a.c)(),s=Object(a.d)("dark","light"),c=Object(a.d)(H.b,H.d);return Object(C.jsx)(b.b,{size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(C.jsx)(c,{}),"aria-label":"Switch to ".concat(s," mode"),...e})};function Z(){return Object(C.jsx)(i.g,{boxShadow:"md",children:Object(C.jsxs)(i.e,{templateRows:"1fr",templateColumns:"1fr 1fr",m:2,w:"100%",children:[Object(C.jsx)(i.f,{children:Object(C.jsxs)(i.g,{children:[Object(C.jsx)(G.a,{src:U,alt:"Todo App Logo",borderRadius:"xl",boxSize:"40px"}),Object(C.jsx)(i.h,{cursor:"",as:"h1",size:"l",children:"Todo App"})]})}),Object(C.jsx)(i.f,{justifySelf:"end",justifyContent:"space-around",children:Object(C.jsxs)(i.e,{templateRows:"1fr",templateColumns:"1fr 1fr",children:[Object(C.jsx)(i.f,{children:Object(C.jsx)(X,{})}),Object(C.jsx)(i.f,{children:Object(C.jsxs)(J.a,{placement:"bottom-end",size:"sm",children:[Object(C.jsx)(J.b,{as:b.a,rightIcon:Object(C.jsx)(K.a,{}),children:Object(C.jsx)(Q.a,{})}),Object(C.jsxs)(J.f,{minW:120,children:[Object(C.jsx)(J.d,{children:"Profile"}),Object(C.jsx)(J.d,{children:"Logout "})]})]})})]})})]})})}const $=e=>{let{children:t}=e;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Z,{}),Object(C.jsx)(i.a,{px:4,children:t})]})};var _=s(67);const ee=()=>{const e=D((e=>e.tasks));if(0===e.length)return null;const t="".concat(1.4*Number(h.substr(0,h.length-2)),"px"),s=Math.round(e.filter((e=>e.isCompleted)).length/e.length*100),a=e.filter((e=>{const t=new Date(e.dueDate);return(new Date).getDay()===t.getDay()})),c=e.filter((e=>{const t=new Date(e.dueDate);return(new Date).getTime()>t.getTime()}));return Object(C.jsx)(i.b,{maxW:t,as:"footer",role:"contentinfo",position:"fixed",left:"0",right:"0",bottom:"0",zIndex:1,textAlign:"center",p:2,children:Object(C.jsxs)(i.d,{justifyContent:"space-evenly",children:[Object(C.jsxs)(i.a,{children:[Object(C.jsx)(i.i,{fontSize:"xs",children:"Completed"}),Object(C.jsx)(_.a,{value:s,color:"green.500",children:Object(C.jsx)(_.b,{children:"".concat(s,"%")})})]}),Object(C.jsxs)(i.a,{children:[Object(C.jsx)(i.i,{fontSize:"xs",children:"Current week tasks"}),Object(C.jsx)(_.a,{value:a.length/e.length*100,color:"blue.500",children:Object(C.jsx)(_.b,{children:a.length})})]}),Object(C.jsxs)(i.a,{children:[Object(C.jsx)(i.i,{fontSize:"xs",children:"Past deadline tasks"}),Object(C.jsx)(_.a,{value:c.length/e.length*100,color:"red.500",children:Object(C.jsx)(_.b,{children:c.length})})]})]})})};var te=Object(o.b)({config:{initialColorMode:"dark",useSystemColorMode:!0}});const se=e=>{let{withLocalStorage:t="true"}=e;const[s,a]=D((e=>[e.tasks,e.setTasks]));return Object(c.useEffect)((()=>{if("true"!==t)return;console.log(t);const e=localStorage.getItem(x)||"";""!==e&&a(JSON.parse(e))}),[t,a]),Object(c.useEffect)((()=>{"true"===t&&localStorage.setItem(x,JSON.stringify(s))}),[s,t]),Object(C.jsxs)(o.a,{theme:te,children:[Object(C.jsx)(i.b,{px:0,children:Object(C.jsxs)($,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(Y,{})]})}),Object(C.jsx)(ee,{})]})};r.a.render(Object(C.jsxs)(c.StrictMode,{children:[Object(C.jsx)(a.b,{initialColorMode:te.config.initialColorMode}),Object(C.jsx)(se,{withLocalStorage:"true"})]}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.d8ad65ac.chunk.js.map